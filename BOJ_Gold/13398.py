import sys
sys.setrecursionlimit(10**6)
input = sys.stdin.readline


N = int(input())
P = list(map(int, input().split()))


d = [[0 for i in range(2)] for i in range(N)]  # ië²ˆì§¸ ìˆ˜ë¥¼ í¬í•¨í•˜ëŠ” ìˆ˜ì—´ì˜, ìµœëŒ€ í•©
d[0][0] = P[0]
d[0][1] = P[0]  # ğŸ¤·â€â™€ï¸
for i in range(1, N):
    d[i][0] = P[i]  # ê¸°ë³¸ìƒíƒœëŠ” ìê¸° ìì‹ , ì§€ê¸ˆê¹Œì§€ì˜ í•©ì„ ë²„ë¦¬ê³  ìƒˆë¡œ ì‹œì‘í•˜ëŠ”ê²½ìš°
    if d[i][0] < d[i-1][0] + P[i]:
        d[i][0] = d[i-1][0] + P[i]
    # d[i][1] = 0
    # 0ì¸ ìƒíƒœì—ì„œ, 1ë¡œ ë“¤ì–´ì˜¤ë©´ì„œ ( ë‚˜ë¥¼ ì œê±°í•˜ë©´ì„œ ) ìƒˆë¡œì‹œì‘í•˜ëŠ”ê²½ìš° âŒ
    # 0ì¸ ìƒíƒœì—ì„œ, 1ë¡œ ë“¤ì–´ì˜¤ë©´ì„œ ( ë‚˜ë¥¼ ì œê±°í•˜ë©´ì„œ ) ì‡ëŠ”ê²½ìš°
    # í•œë²ˆ ì œê±°í•œìƒíƒœì™€ ì‡ëŠ” ê²½ìš°
    d[i][1] = max(d[i-1][0], d[i-1][1] + P[i])
print(d)
res = d[0][0]
for e in d:
    res = max([res] + e)
print(res)
